## 差分：

1. 差分算法是一种基本的算法，主要用于区间修改和单点查询的问题。比如，给定一个数组，支持对其中某个区间内的元素进行增量操作，并能够快速查询数组中某个位置的元素值。差分思想是将原问题转化为求解差分数组的问题，再通过对差分数组进行前缀和操作得到原数组。通过这种方式，我们可以在常数时间内完成区间修改操作，从而大大提高程序效率。
    - 区间加减、区间取反等问题
    - 维护动态序列的单点修改问题
    - 维护二维矩阵的区域修改问题
    
    相关问题示例：
    
    - P3372 【模板】线段树 1 （区间修改，区间查询）
    - P2899 线段树板子（区间修改，单点查询）
    - P6136 【COCI2013-2014#3】 SOK（三个饮料瓶，模拟加减操作）
    - 
    
    差分的目的是在O(1)时间内对区间[l, r]的每个数加上或减去一个数。
    
    C++代码示例：
    
    ```
    cppCopy code
    vector<int> diff(n+1);
    for (int i = 1; i <= n; i++) {
        diff[i] = a[i] - a[i-1];
    }
    for (int i = 1; i <= q; i++) {
        int l, r, x;
        cin >> l >> r >> x;
        diff[l] += x;
        diff[r+1] -= x;
    }
    for (int i = 1; i <= n; i++) {
        a[i] = a[i-1] + diff[i];
    }
    
    ```
    

## 前缀和：

1. 前缀和算法是一种基于动态规划思想的算法，主要用于求解区间和问题。通过预处理数组的前缀和，可以快速求解任意区间的和，比如，求解区间 [l, r] 的和。

（Prefix Sum）

通常应用于需要快速计算连续子序列和的问题，可以将时间复杂度优化至 O(1)。

以下是一些适合使用前缀和算法的问题：

1. 给定一个数组和一个查询区间，求区间内元素的和。
2. 给定一个数组和一个查询区间，求区间内最大（小）的元素。
3. 给定一个矩阵和一个查询矩形，求矩形内元素的和。

此外，前缀和算法还可以用于统计一段时间内的数据，如一个时间段内的访问量、收入等等。

- 区间求和、区间平均数等问题
- 数组中找到子序列和等于定值的问题

相关问题示例：

- P1168 导弹拦截（求最长不升子序列，用前缀和维护）
- P3250 【模板】数列区间和（前缀和求区间和）
- P2740 【模板】区间 K 大数查询（线段树+离散化+前缀和）

前缀和的目的是在O(1)时间内计算区间[l, r]的和。

C++代码示例：

```
cppCopy code
vector<int> pre(n+1);
for (int i = 1; i <= n; i++) {
    pre[i] = pre[i-1] + a[i];
}
int sum = pre[r] - pre[l-1];

```

### 差分和前缀和

差分和前缀和都是数组的一种预处理方法，它们的主要区别在于处理的内容和结果的含义不同。

差分是一种常用的数组预处理方法，它用来计算数组元素之间的差值。差分数组的定义如下：

![Screen Shot 2023-02-28 at 16.44.04.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/68190abb-b07c-4e55-8fd8-079ea93db7f6/Screen_Shot_2023-02-28_at_16.44.04.png)

其中，$a$是原始数组，$b$是差分数组。差分数组的意义是记录相邻元素之间的差值，用于快速计算原始数组的区间和或区间修改。计算区间和时，只需要用差分数组的前缀和来计算即可。

前缀和也是一种常用的数组预处理方法，它用来计算数组元素的前缀和。前缀和数组的定义如下：

![Screen Shot 2023-02-28 at 16.44.08.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/30c853f6-938e-403a-a1be-8ca83600844d/Screen_Shot_2023-02-28_at_16.44.08.png)

其中，$a$是原始数组，$s$是前缀和数组。前缀和数组的意义是记录原始数组前$i$个元素的和，用于快速计算原始数组的区间和。

总之，差分和前缀和都是常用的数组预处理方法，它们各有优点，根据需要选择合适的方法来处理数组。